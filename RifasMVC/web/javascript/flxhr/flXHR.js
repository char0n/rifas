/*	flXHR 1.0.3 <http://flxhr.flensed.com/>
	Copyright (c) 2008 Kyle Simpson, Getify Solutions, Inc.
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>

	====================================================================================================
*/
(function(q){var d=q,B=q.document,m="undefined",g=true,D=false,C="",h="object",n="function",s="string",l="div",c="onunload",x=null,o=null,i=null,t=null,u=0,z=[],f=null,y=null,A="flXHR.js",j="flensed.js",w="flXHR.vbs",e="checkplayer.js",k="flXHR.swf",v=q.parseInt,b=q.setTimeout,a=q.clearTimeout,r=q.setInterval,p=q.clearInterval;if(typeof q.flensed===m){q.flensed={}}if(typeof q.flensed.flXHR!==m){return}o=q.flensed;b(function(){var E=D,P=B.getElementsByTagName("script"),J=P.length;try{o.base_path.toLowerCase();E=g}catch(H){o.base_path=C}function N(W,V,X){for(var U=0;U<J;U++){if(typeof P[U].src!==m){if(P[U].src.indexOf(W)>=0){break}}}var T=B.createElement("script");T.setAttribute("src",o.base_path+W);if(typeof V!==m){T.setAttribute("type",V)}if(typeof X!==m){T.setAttribute("language",X)}B.getElementsByTagName("head")[0].appendChild(T)}if((typeof P!==m)&&(P!==null)){if(!E){var Q=0;for(var I=0;I<J;I++){if(typeof P[I].src!==m){if(((Q=P[I].src.indexOf(j))>=0)||((Q=P[I].src.indexOf(A))>=0)){o.base_path=P[I].src.substr(0,Q);break}}}}}try{o.checkplayer.module_ready()}catch(O){N(e,"text/javascript")}var R=null;(function S(){try{o.ua.pv.join(".")}catch(T){R=b(arguments.callee,25);return}if(o.ua.win&&o.ua.ie){N(w,"text/vbscript","vbscript")}o.binaryToString=function(X,W){W=(((o.ua.win&&o.ua.ie)&&typeof W!==m)?(!(!W)):!(o.ua.win&&o.ua.ie));if(!W){try{return flXHR_vb_BinaryToString(X)}catch(Z){}}var aa=C,V=[];try{for(var Y=0;Y<X.length;Y++){V[V.length]=String.fromCharCode(X[Y])}aa=V.join(C)}catch(U){}return aa};o.bindEvent(d,c,function(){try{q.flensed.unbindEvent(d,c,arguments.callee);for(var W in y){if(y[W]!==Object.prototype[W]){try{y[W]=null}catch(V){}}}o.flXHR=null;y=null;o=null;t=null;i=null}catch(U){}})})();function M(){a(R);try{d.detachEvent(c,M)}catch(T){}}if(R!==null){try{d.attachEvent(c,M)}catch(L){}}var G=null;function F(){a(G);try{d.detachEvent(c,F)}catch(T){}}try{d.attachEvent(c,F)}catch(K){}G=b(function(){F();try{o.checkplayer.module_ready()}catch(T){throw new q.Error("flXHR dependencies failed to load.")}},20000)},0);o.flXHR=function(aE){var P=D;if(aE!==null&&typeof aE===h){if(typeof aE.instancePooling!==m){P=!(!aE.instancePooling);if(P){var at=function(){for(var aN=0;aN<z.length;aN++){var aO=z[aN];if(aO.readyState===4){aO.Reset();aO.Configure(aE);return aO}}return null}();if(at!==null){return at}}}}var aJ=++u,W=[],T=null,V=null,L=null,M=null,az=-1,O=null,Q=null,ac=null,ar=null,aj=null,aI=null,Y=null,E=null,ay=null,N=g,ao=D,aL="flXHR_"+aJ,ah=g,ap=D,an=g,aw=D,G="flXHR_swf",S="flXHRhideSwf",J=null,au=-1,H=C,ax=null,aq=null,aB=null;var I=function(){if(typeof aE===h&&aE!==null){if((typeof aE.instanceId!==m)&&(aE.instanceId!==null)&&(aE.instanceId!==C)){aL=aE.instanceId}if((typeof aE.swfIdPrefix!==m)&&(aE.swfIdPrefix!==null)&&(aE.swfIdPrefix!==C)){G=aE.swfIdPrefix}if((typeof aE.appendToId!==m)&&(aE.appendToId!==null)&&(aE.appendToId!==C)){J=aE.appendToId}if((typeof aE.loadPolicyURL!==m)&&(aE.loadPolicyURL!==null)&&(aE.loadPolicyURL!==C)){H=aE.loadPolicyURL}if(typeof aE.noCacheHeader!==m){ah=!(!aE.noCacheHeader)}if(typeof aE.binaryResponseBody!==m){ap=!(!aE.binaryResponseBody)}if(typeof aE.xmlResponseText!==m){an=!(!aE.xmlResponseText)}if(typeof aE.autoUpdatePlayer!==m){aw=!(!aE.autoUpdatePlayer)}if((typeof aE.sendTimeout!==m)&&((x=v(aE.sendTimeout,10))>0)){au=x}if((typeof aE.onreadystatechange!==m)&&(aE.onreadystatechange!==null)){ax=aE.onreadystatechange}if((typeof aE.onerror!==m)&&(aE.onerror!==null)){aq=aE.onerror}if((typeof aE.ontimeout!==m)&&(aE.ontimeout!==null)){aB=aE.ontimeout}}M=G+"_"+aJ;function aN(){a(T);try{d.detachEvent(c,aN)}catch(aQ){}}try{d.attachEvent(c,aN)}catch(aO){}(function aP(){try{o.bindEvent(d,c,av)}catch(aQ){T=b(arguments.callee,25);return}aN();T=b(aG,1)})()}();function aG(){if(J===null){E=B.getElementsByTagName("body")[0]}else{E=o.getObjectById(J)}try{E.nodeName.toLowerCase();o.checkplayer.module_ready();i=o.checkplayer}catch(aO){T=b(aG,25);return}if((t===null)&&(typeof i._ins===m)){try{t=new i(y.MIN_PLAYER_VERSION,aH,D,ae)}catch(aN){aC(y.DEPENDENCY_ERROR,"flXHR: checkplayer Init Failed","The initialization of the 'checkplayer' library failed to complete.");return}}else{t=i._ins;U()}}function U(){if(t===null||!t.checkPassed){T=b(U,25);return}if(f===null&&J===null){o.createCSS("."+S,"left:-1px;top:0px;width:1px;height:1px;position:absolute;");f=g}var aR=B.createElement(l);aR.id=M;aR.className=S;E.appendChild(aR);E=null;var aO={},aS={allowScriptAccess:"always"},aP={id:M,name:M,styleclass:S},aQ={swfCB:aF,swfEICheck:"reset"};try{t.DoSWF(o.base_path+k,M,"1","1",aO,aS,aP,aQ)}catch(aN){aC(y.DEPENDENCY_ERROR,"flXHR: checkplayer Call Failed","A call to the 'checkplayer' library failed to complete.");return}}function aF(aN){if(aN.status!==i.SWF_EI_READY){return}F();aI=o.getObjectById(M);aI.setId(M);if(H!==C){aI.loadPolicy(H)}aI.autoNoCacheHeader(ah);aI.returnBinaryResponseBody(ap);aI.doOnReadyStateChange=Z;aI.doOnError=aC;aI.sendProcessed=ad;aI.chunkResponse=al;az=0;ak();aK();if(typeof ax===n){try{ax(Y)}catch(aO){aC(y.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+aO.message+")");return}}ag()}function av(){try{q.flensed.unbindEvent(d,c,av)}catch(aQ){}try{for(var aR=0;aR<z.length;aR++){if(z[aR]===Y){z[aR]=D}}}catch(aY){}try{for(var aT in Y){if(Y[aT]!==Object.prototype[aT]){try{Y[aT]=null}catch(aX){}}}}catch(aW){}Y=null;F();if((typeof aI!==m)&&(aI!==null)){try{aI.abort()}catch(aV){}try{aI.doOnReadyStateChange=null;Z=null}catch(aU){}try{aI.doOnError=null;doOnError=null}catch(aS){}try{aI.sendProcessed=null;ad=null}catch(aP){}try{aI.chunkResponse=null;al=null}catch(aO){}aI=null;try{q.swfobject.removeSWF(M)}catch(aN){}}aD();ax=null;aq=null;aB=null;az=0;ar=null;aj=null;Q=null;ac=null;O=null;ay=null;E=null}function al(){if(ap&&typeof arguments[0]!==m){ay=((ay!==null)?ay:[]);ay=ay.concat(arguments[0])}else{if(typeof arguments[0]===s){ay=((ay!==null)?ay:C);ay+=arguments[0]}}}function Z(){if(typeof arguments[0]!==m){az=arguments[0]}if(az===4){F();if(ap&&ay!==null){try{Q=o.binaryToString(ay,g);try{O=flXHR_vb_StringToBinary(Q)}catch(aP){O=ay}}catch(aO){}}else{Q=ay}ay=null;if(Q!==C){if(an){try{ac=o.parseXMLString(Q)}catch(aN){ac={}}}}}if(typeof arguments[1]!==m){ar=arguments[1]}if(typeof arguments[2]!==m){aj=arguments[2]}R(az)}function R(aN){ak();Y.readyState=aN;aK();if(typeof ax===n){try{ax(Y)}catch(aO){aC(y.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+aO.message+")");return}}}function aC(){F();aD();ao=g;var aQ;try{aQ=new o.error(arguments[0],arguments[1],arguments[2],Y)}catch(aR){function aO(){this.number=0;this.name="flXHR Error: Unknown";this.description="Unknown error from 'flXHR' library.";this.message=this.description;this.srcElement=Y;var aV=this.number,aU=this.name,aX=this.description;function aW(){return aV+", "+aU+", "+aX}this.toString=aW}aQ=new aO()}var aS=D;try{if(typeof aq===n){aq(aQ);aS=g}}catch(aN){var aP=aQ.toString();function aT(){this.number=y.HANDLER_ERROR;this.name="flXHR::onerror(): Error";this.description="An error occured in the handler function. ("+aN.message+")\nPrevious:["+aP+"]";this.message=this.description;this.srcElement=Y;var aV=this.number,aU=this.name,aX=this.description;function aW(){return aV+", "+aU+", "+aX}this.toString=aW}aQ=new aT()}if(!aS){b(function(){o.throwUnhandledError(aQ.toString())},1)}}function K(){aa();ao=g;if(typeof aB===n){try{aB(Y)}catch(aN){aC(y.HANDLER_ERROR,"flXHR::ontimeout(): Error","An error occurred in the handler function. ("+aN.message+")");return}}else{aC(y.TIMEOUT_ERROR,"flXHR: Operation Timed out","The requested operation timed out.")}}function F(){a(T);T=null;a(L);L=null;a(V);V=null}function aM(aO,aP,aN){W[W.length]={func:aO,funcName:aP,args:aN};N=D}function aD(){if(!N){N=g;var aO=W.length;for(var aN=0;aN<aO;aN++){try{W[aN]=D}catch(aP){}}W=[]}}function ag(){if(az<0){V=b(ag,25);return}if(!N){for(var aN=0;aN<W.length;aN++){try{if(W[aN]!==D){W[aN].func.apply(Y,W[aN].args);W[aN]=D}}catch(aO){aC(y.HANDLER_ERROR,"flXHR::"+W[aN].funcName+"(): Error","An error occurred in the "+W[aN].funcName+"() function.");return}}N=g}}function aK(){try{Y.instanceId=aL;Y.readyState=az;Y.status=ar;Y.statusText=aj;Y.responseText=Q;Y.responseXML=ac;Y.responseBody=O;Y.onreadystatechange=ax;Y.onerror=aq;Y.ontimeout=aB;Y.loadPolicyURL=H;Y.noCacheHeader=ah;Y.binaryResponseBody=ap;Y.xmlResponseText=an}catch(aN){}}function ak(){try{aL=Y.instanceId;if(Y.timeout!==null&&(x=v(Y.timeout,10))>0){au=x}ax=Y.onreadystatechange;aq=Y.onerror;aB=Y.ontimeout;if(Y.loadPolicyURL!==null){if((Y.loadPolicyURL!==H)&&(az>=0)){aI.loadPolicy(Y.loadPolicyURL)}H=Y.loadPolicyURL}if(Y.noCacheHeader!==null){if((Y.noCacheHeader!==ah)&&(az>=0)){aI.autoNoCacheHeader(Y.noCacheHeader)}ah=Y.noCacheHeader}if(Y.binaryResponseBody!==null){if((Y.binaryResponseBody!==ap)&&(az>=0)){aI.returnBinaryResponseBody(Y.binaryResponseBody)}ap=Y.binaryResponseBody}if(an!==null){an=!(!Y.xmlResponseText)}}catch(aN){}}function aA(){aa();try{aI.reset()}catch(aN){}ar=null;aj=null;Q=null;ac=null;O=null;ay=null;ao=D;aK();H=C;ak()}function aH(aN){if(aN.checkPassed){U()}else{if(!aw){aC(y.PLAYER_VERSION_ERROR,"flXHR: Insufficient Flash Player Version","The Flash Player was either not detected, or the detected version ("+aN.playerVersionDetected+") was not at least the minimum version ("+y.MIN_PLAYER_VERSION+") needed by the 'flXHR' library.")}else{t.UpdatePlayer()}}}function ae(aN){if(aN.updateStatus===i.UPDATE_CANCELED){aC(y.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Canceled","The Flash Player was not updated.")}else{if(aN.updateStatus===i.UPDATE_FAILED){aC(y.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Failed","The Flash Player was either not detected or could not be updated.")}}}function ad(){if(au!==null&&au>0){L=b(K,au)}}function aa(){F();aD();ak();az=0;try{aI.abort()}catch(aN){aC(y.CALL_ERROR,"flXHR::abort(): Failed","The abort() call failed to complete.")}aK()}function ai(){ak();if(typeof arguments[0]===m||typeof arguments[1]===m){aC(y.CALL_ERROR,"flXHR::open(): Failed","The open() call requires 'method' and 'url' parameters.")}else{if(az>0||ao){aA()}if(Y.readyState===0){Z(1)}else{az=1}var aP=arguments[0],aO=arguments[1],aN=(typeof arguments[2]!==m)?arguments[2]:g,aS=(typeof arguments[3]!==m)?arguments[3]:C,aR=(typeof arguments[4]!==m)?arguments[4]:C;try{aI.autoNoCacheHeader(ah);aI.open(aP,aO,aN,aS,aR)}catch(aQ){aC(y.CALL_ERROR,"flXHR::open(): Failed","The open() call failed to complete.")}}}function am(){ak();if(az<=1&&!ao){var aN=(typeof arguments[0]!==m)?arguments[0]:C;if(Y.readyState===1){Z(2)}else{az=2}try{aI.autoNoCacheHeader(ah);aI.send(aN)}catch(aO){aC(y.CALL_ERROR,"flXHR::send(): Failed","The send() call failed to complete.")}}else{aC(y.CALL_ERROR,"flXHR::send(): Failed","The send() call cannot be made at this time.")}}function X(){ak();if(typeof arguments[0]===m||typeof arguments[1]===m){aC(y.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call requires 'name' and 'value' parameters.")}else{if(!ao){var aO=(typeof arguments[0]!==m)?arguments[0]:C,aN=(typeof arguments[1]!==m)?arguments[1]:C;try{aI.setRequestHeader(aO,aN)}catch(aP){aC(y.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call failed to complete.")}}}}function ab(){ak();return C}function af(){ak();return[]}Y={readyState:az,responseBody:O,responseText:Q,responseXML:ac,status:ar,statusText:aj,timeout:au,open:function(){ak();if(Y.readyState===0){R(1)}if(!N||az<0){aM(ai,"open",arguments);return}ai.apply({},arguments)},send:function(){ak();if(Y.readyState===1){R(2)}if(!N||az<0){aM(am,"send",arguments);return}am.apply({},arguments)},abort:aa,setRequestHeader:function(){ak();if(!N||az<0){aM(X,"setRequestHeader",arguments);return}X.apply({},arguments)},getResponseHeader:ab,getAllResponseHeaders:af,onreadystatechange:ax,ontimeout:aB,instanceId:aL,loadPolicyURL:H,noCacheHeader:ah,binaryResponseBody:ap,xmlResponseText:an,onerror:aq,Configure:function(aN){if(typeof aN===h&&aN!==null){if((typeof aN.instanceId!==m)&&(aN.instanceId!==null)&&(aN.instanceId!==C)){aL=aN.instanceId}if(typeof aN.noCacheHeader!==m){ah=!(!aN.noCacheHeader);if(az>=0){aI.autoNoCacheHeader(ah)}}if(typeof aN.binaryResponseBody!==m){ap=!(!aN.binaryResponseBody);if(az>=0){aI.returnBinaryResponseBody(ap)}}if(typeof aN.xmlResponseText!==m){an=!(!aN.xmlResponseText)}if((typeof aN.onreadystatechange!==m)&&(aN.onreadystatechange!==null)){ax=aN.onreadystatechange}if((typeof aN.onerror!==m)&&(aN.onerror!==null)){aq=aN.onerror}if((typeof aN.ontimeout!==m)&&(aN.ontimeout!==null)){aB=aN.ontimeout}if((typeof aN.sendTimeout!==m)&&((x=v(aN.sendTimeout,10))>0)){au=x}if((typeof aN.loadPolicyURL!==m)&&(aN.loadPolicyURL!==null)&&(aN.loadPolicyURL!==C)&&(aN.loadPolicyURL!==H)){H=aN.loadPolicyURL;if(az>=0){aI.loadPolicy(H)}}aK()}},Reset:aA,Destroy:av};if(P){z[z.length]=Y}return Y};y=o.flXHR;y.HANDLER_ERROR=10;y.CALL_ERROR=11;y.TIMEOUT_ERROR=12;y.DEPENDENCY_ERROR=13;y.PLAYER_VERSION_ERROR=14;y.SECURITY_ERROR=15;y.COMMUNICATION_ERROR=16;y.MIN_PLAYER_VERSION="9.0.124";y.module_ready=function(){}})(window);